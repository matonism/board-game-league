(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(8),r=n.n(c),l=(n(13),n(3)),i=n(4),o=n(6),d=n(5),u=(n(14),n(2)),h={MOCK_STORAGE:!1,MOCK_API:!1,HOST_URL:"http://localhost:3000",SERVER_URL:"https://6k70mthaui.execute-api.us-east-2.amazonaws.com",COOKIE_USER_KEY:"user",COOKIE_USERNAME_KEY:"username",COOKIE_USER_EMAIL_KEY:"email",COOKIE_HOURS_EXPIRATION:5,SCREEN_HOME:"Home",SCREEN_USER_PROFILE:"User Profile",SCREEN_POLL_SUMMARY:"Poll Summary",POLL_DISPLAY_ACTIVE:"Open Poll",SCREEN_OPEN_POLL:"Open Poll",SCREEN_POLL_RESULTS:"Poll Complete",RECENT_POLL_COOKIE_PREFIX:"recent-poll-",LOCAL_SUBMISSION_EXPIRATION:336},g=(n(15),n.p+"static/media/loading-icon.11c01773.gif");function b(e,t,n){return new Promise((function(n,a){var s=Object.keys(t).reduce((function(e,n,a){return 0===a?"?"+n+"="+t[n]:e+"&"+n+"="+t[n]}),"?");fetch(e+s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}}).then((function(e){e.ok?e.clone().json().then((function(e){console.dir(e),n(e)})).catch((function(e){console.log(e),a(e)})):e.json().then((function(e){return a(e)}))})).catch((function(e){console.dir(e),a(e)}))}))}var j=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getLeagueData",value:function(e){return b(h.SERVER_URL+"/boardgameleague",{season:e},!0)}},{key:"getSchedule",value:function(e){return b(h.SERVER_URL+"/schedule",{season:e},!0)}},{key:"getPowerRankings",value:function(e){return b(h.SERVER_URL+"/powerRankings",{season:e},!0)}},{key:"getStandings",value:function(e){return b(h.SERVER_URL+"/standings",{season:e},!0)}},{key:"getResults",value:function(e){return b(h.SERVER_URL+"/results",{season:e},!0)}}]),e}(),p=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getLeagueData",value:function(e){return new Promise((function(e,t){e({data:"data"})}))}},{key:"getSchedule",value:function(e){return new Promise((function(e,t){e({data:"data"})}))}},{key:"getPowerRankings",value:function(e){return new Promise((function(e,t){e({data:"data"})}))}},{key:"getStandings",value:function(e){return new Promise((function(e,t){e({data:"data"})}))}},{key:"getResults",value:function(e){return new Promise((function(e,t){e({data:"data"})}))}}]),n}(j),O=h.MOCK_API?new p:new j;n(16);var f=n(0),m=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).accountInfoNavRef=s.a.createRef(),a.state={},a.getScheduleScreen=a.getScheduleScreen.bind(Object(u.a)(a)),a.loadingScreen=a.loadingScreen.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){}},{key:"loadingScreen",value:function(){return Object(f.jsx)("div",{className:"loading-icon-container",children:Object(f.jsx)("img",{src:g,alt:"loading"})})}},{key:"displaySchedule",value:function(){var e=this;return console.log(this.props.schedule),this.props.schedule?this.props.schedule.map((function(t){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"bgl-week-container",children:[Object(f.jsx)("div",{className:"bgl-week-header",children:t.week+" - "+t.game}),Object(f.jsx)("div",{className:"bgl-week-subheader",children:t.dates}),Object(f.jsx)("div",{className:"bgl-week-table-container",children:Object(f.jsx)("table",{className:"bgl-week-table",cellPadding:"0",cellspacing:"0",children:e.getSingleScheduleTable(t)})})]})})})):Object(f.jsx)("div",{children:"could not load schedule"})}},{key:"getSingleScheduleTable",value:function(e){return e.results.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("tr",{className:"bgl-table-row player-row",children:[Object(f.jsxs)("td",{className:"bgl-table-title-cell",children:["Group ",t+1]}),Object(f.jsx)("td",{className:"bgl-table-cell",children:e[0].player}),Object(f.jsx)("td",{className:"bgl-table-cell",children:e[1].player}),Object(f.jsx)("td",{className:"bgl-table-cell",children:e[2].player}),Object(f.jsx)("td",{className:"bgl-table-cell",children:e[3].player})]}),Object(f.jsxs)("tr",{className:"bgl-table-row placement-row",children:[Object(f.jsx)("td",{className:"bgl-table-subtitle-cell",children:"Placement"}),Object(f.jsx)("td",{className:"bgl-table-placement-cell",children:e[0].placement}),Object(f.jsx)("td",{className:"bgl-table-placement-cell",children:e[1].placement}),Object(f.jsx)("td",{className:"bgl-table-placement-cell",children:e[2].placement}),Object(f.jsx)("td",{className:"bgl-table-placement-cell",children:e[3].placement})]})]})}))}},{key:"getScheduleScreen",value:function(){return this.props.schedule?Object(f.jsx)("div",{children:this.displaySchedule()}):this.props.error?Object(f.jsx)("div",{children:"There was an error loading the schedule"}):this.loadingScreen()}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:this.getScheduleScreen()})}}]),n}(s.a.Component),v=(n(18),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).accountInfoNavRef=s.a.createRef(),a.state={},a.getStandingsScreen=a.getStandingsScreen.bind(Object(u.a)(a)),a.loadingScreen=a.loadingScreen.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){}},{key:"loadingScreen",value:function(){return Object(f.jsx)("div",{className:"loading-icon-container",children:Object(f.jsx)("img",{src:g,alt:"loading"})})}},{key:"displayStandings",value:function(){if(this.props.standings){var e=this.props.standings.map((function(e,t){return Object(f.jsxs)("tr",{className:"bgl-row",children:[Object(f.jsx)("td",{className:"bgl-standings-cell",children:t+1}),Object(f.jsx)("td",{className:"bgl-standings-cell",children:e.player}),Object(f.jsx)("td",{className:"bgl-standings-cell",children:e.points})]})}));return e.unshift(Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"standings-row-header",children:"Position"}),Object(f.jsx)("td",{className:"standings-row-header",children:"Player"}),Object(f.jsx)("td",{className:"standings-row-header",children:"Points"})]})),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"power-ranking-header",children:"BGL Season 2 Standings"}),Object(f.jsx)("div",{className:"bgl-table-container",children:Object(f.jsx)("table",{className:"bgl-table",children:e})})]})}}},{key:"getStandingsScreen",value:function(){return this.props.standings?this.displayStandings():this.props.error?Object(f.jsx)("div",{children:"There was an error loading the standings"}):this.loadingScreen()}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:this.getStandingsScreen()})}}]),n}(s.a.Component)),S=(n(19),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).accountInfoNavRef=s.a.createRef(),a.state={},a.getResultsScreen=a.getResultsScreen.bind(Object(u.a)(a)),a.loadingScreen=a.loadingScreen.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){}},{key:"loadingScreen",value:function(){return Object(f.jsx)("div",{className:"loading-icon-container",children:Object(f.jsx)("img",{src:g,alt:"loading"})})}},{key:"getResultsScreen",value:function(){return this.props.results?Object(f.jsx)("div",{children:"Showing results table"}):this.props.error?Object(f.jsx)("div",{children:"There was an error loading the results"}):this.loadingScreen()}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:this.getResultsScreen()})}}]),n}(s.a.Component)),y=(n(20),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).accountInfoNavRef=s.a.createRef(),a.state={},a.getPowerRankingsScreen=a.getPowerRankingsScreen.bind(Object(u.a)(a)),a.loadingScreen=a.loadingScreen.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){}},{key:"loadingScreen",value:function(){return Object(f.jsx)("div",{className:"loading-icon-container",children:Object(f.jsx)("img",{src:g,alt:"loading"})})}},{key:"displayPowerRankings",value:function(){if(this.props.powerRankings){var e=this.props.powerRankings.values.map((function(e,t){return Object(f.jsxs)("tr",{className:"bgl-row",children:[Object(f.jsx)("td",{className:"bgl-power-cell",children:t+1}),Object(f.jsx)("td",{className:"bgl-power-cell",children:e})]})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"power-ranking-header",children:"BGL Power Rankings"}),Object(f.jsx)("div",{className:"bgl-table-container",children:Object(f.jsx)("table",{className:"bgl-table",children:e})})]})}}},{key:"getPowerRankingsScreen",value:function(){return this.props.powerRankings?this.displayPowerRankings():this.props.error?Object(f.jsx)("div",{children:"There was an error loading the powerRankings"}):this.loadingScreen()}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:this.getPowerRankingsScreen()})}}]),n}(s.a.Component)),k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).displayTabsRef=s.a.createRef(),a.state={isLoading:!0,schedule:[],results:{},powerRankings:{},standings:{},displayedScreen:"schedule",errors:{schedule:null,results:null,powerRankings:null,standings:null}},a.loadSchedule=a.loadSchedule.bind(Object(u.a)(a)),a.loadPowerRankings=a.loadPowerRankings.bind(Object(u.a)(a)),a.loadResults=a.loadResults.bind(Object(u.a)(a)),a.loadStandings=a.loadStandings.bind(Object(u.a)(a)),a.getCurrentDisplay=a.getCurrentDisplay.bind(Object(u.a)(a)),a.toggleDisplay=a.toggleDisplay.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadSchedule(),this.loadPowerRankings()}},{key:"loadSchedule",value:function(){var e,t=this;O.getSchedule(e).then((function(e){var n=t.createScheduleObject(e);t.createStandingsObject(n)})).catch((function(e){var n=t.state.errors;n.schedule=e,t.setState({errors:n}),e.code&&(console.log(e.code),console.log("Could not load schedule"))}))}},{key:"loadPowerRankings",value:function(){var e,t=this;O.getPowerRankings(e).then((function(e){t.setState({powerRankings:e})})).catch((function(e){var n=t.state.errors;n.powerRankings=e,t.setState({errors:n}),e.code&&(console.log(e.code),console.log("Could not load power rankings"))}))}},{key:"loadResults",value:function(){var e,t=this;O.getResults(e).then((function(e){t.setState({results:e})})).catch((function(e){var n=t.state.error;n.results=e,t.setState({error:n}),e.code&&(console.log(e.code),console.log("Could not load results"))}))}},{key:"loadStandings",value:function(){var e,t=this;O.getStandings(e).then((function(e){t.setState({standings:e})})).catch((function(e){var n=t.state.error;n.standings=e,t.setState({error:n}),e.code&&(console.log(e.code),console.log("Could not load standings"))}))}},{key:"createScheduleObject",value:function(e){var t=[];return e.values.forEach((function(n,a){var s=a%9;if(0==s)t.push({week:n[0],game:n[1],dates:n[2],results:[]});else if(s%2===1){var c=e.values[a+1],r=t[t.length-1];r.results.push([]);for(var l=1;l<=4;l++){var i=r.results[r.results.length-1],o=c[l];i.push({player:n[l],placement:o})}}})),this.setState({schedule:t}),t}},{key:"createStandingsObject",value:function(e){var t=this,n={};e.forEach((function(e){e.results.forEach((function(e){e.forEach((function(e){n[e.player]||(n[e.player]=0),e.placement&&(n[e.player]+=t.scoringRubric(e.placement))}))}))}));var a=Object.keys(n).map((function(e){return{player:e,points:n[e]}}));return a.sort((function(e,t){return e.points>t.points?-1:1})),this.setState({standings:a}),a}},{key:"scoringRubric",value:function(e){return 1==e?3:2==e?2:3==e?1:0}},{key:"getCurrentDisplay",value:function(){return"schedule"===this.state.displayedScreen?Object(f.jsx)(m,{schedule:this.state.schedule,error:this.state.errors.schedule}):"powerRankings"===this.state.displayedScreen?Object(f.jsx)(y,{powerRankings:this.state.powerRankings,error:this.state.errors.powerRankings}):"results"===this.state.displayedScreen?Object(f.jsx)(S,{schedule:this.state.schedule,error:this.state.errors.results}):"standings"===this.state.displayedScreen?Object(f.jsx)(v,{standings:this.state.standings,error:this.state.errors.standings}):Object(f.jsx)(m,{schedule:this.state.schedule,error:this.state.errors.schedule})}},{key:"toggleDisplay",value:function(e){var t=e.target.dataset.name;this.setState({displayedScreen:t}),this.displayTabsRef.current.querySelectorAll(".toggle-button").forEach((function(e){e.className.includes(" active")&&(e.className=e.className.replace(" active","")),e.dataset.name===t&&(e.className+=" active")}))}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"bgl-header",children:"Board Game League"}),Object(f.jsxs)("div",{className:"display-tabs",ref:this.displayTabsRef,children:[Object(f.jsx)("div",{"data-name":"schedule",className:"toggle-button active",onClick:this.toggleDisplay,children:"Schedule"}),Object(f.jsx)("div",{"data-name":"standings",className:"toggle-button",onClick:this.toggleDisplay,children:"Standings"}),Object(f.jsx)("div",{"data-name":"powerRankings",className:"toggle-button",onClick:this.toggleDisplay,children:"Power Rankings"})]}),this.getCurrentDisplay()]})}}]),n}(s.a.Component),x=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("head",{children:[Object(f.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}),Object(f.jsx)("meta",{charset:"utf-8"}),Object(f.jsx)("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge,chrome=1"}),Object(f.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}),Object(f.jsx)("link",{href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css",rel:"stylesheet"}),Object(f.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Holtwood+One+SC",rel:"stylesheet",type:"text/css"}),Object(f.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Kaushan+Script|Herr+Von+Muellerhoff",rel:"stylesheet",type:"text/css"}),Object(f.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Abel",rel:"stylesheet",type:"text/css"}),Object(f.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Istok+Web|Roboto+Condensed:700",rel:"stylesheet",type:"text/css"}),Object(f.jsx)("title",{children:"Board Game League"})]}),Object(f.jsx)("div",{className:"App main-container",children:Object(f.jsx)(k,{})})]})}}]),n}(s.a.Component),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),R()}],[[21,1,2]]]);
//# sourceMappingURL=main.31c84268.chunk.js.map